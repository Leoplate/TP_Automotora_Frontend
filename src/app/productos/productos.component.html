



<h1>Productos</h1>





<p>
    <p-button (click)="showDialog()" label="+ Crear Producto" [raised]="true" severity="help" />
</p>
<label for="nome" class="font-semibold w-24">Nombre: </label>
<input id="nome" (input)="filtrarProductos()" [(ngModel)]="nombreFiltro" pInputText placeholder="Buscar por producto">


<p></p>
<p-table [value]="productosFiltrados" [paginator]="true" [rows]="6" [tableStyle]="{ 'min-width': '50rem' }">
    
    <ng-template #header>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Precio (millones $)</th>
            <th>Stock</th>
        </tr>
    </ng-template>
    
    <ng-template #body let-producto>
        <tr>
            <td>{{ producto.id }}</td>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.precio }}</td>
            <td>{{ producto.stock }}</td>
            <td>
              <p-button (click)="showDialogEdit(producto)" icon="pi pi-pencil" [rounded]="true" severity="warn" [outlined]="true" />  
              <p-button (click)="eliminarProducto(producto.id)" icon="pi pi-trash" [rounded]="true" severity="danger" [outlined]="true" />
            </td>
            
        </tr>
        
    </ng-template>
      
    
    
</p-table>
   



<p-dialog header="Crear Producto" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
    <span class="p-text-secondary block mb-8"></span>
    <div class="flex items-center gap-4 mb-4">
        <label for="name" class="font-semibold w-24">Nombre: </label>
        <input pInputText id="name" class="flex-auto" [(ngModel)]="name" autocomplete="off" />
    </div>
    <div class="flex items-center gap-4 mb-4">
        <label for="price" class="font-semibold w-24">Precio:</label>
        <input pInputText id="price" class="flex-auto" [(ngModel)]="price" autocomplete="off" />
    </div>
    <div class="flex items-center gap-4 mb-4">
        <label for="stock" class="font-semibold w-24">Stock:</label>
        <input pInputText id="stock" class="flex-auto" [(ngModel)]="stock" autocomplete="off" />
    </div>
    <div class="flex justify-end gap-2">
        <p-button label="Cancel" severity="secondary" (click)="visible = false" />
        <p-button label="Aceptar" (click)="crearProducto()" />
    </div>
</p-dialog>


<p-dialog header="Modicar Producto" [modal]="true" [(visible)]="visibleEditar" [style]="{ width: '25rem' }">
    <span class="p-text-secondary block mb-8"></span>
    <div class="flex items-center gap-4 mb-4">
        <label for="name" class="font-semibold w-24">Nombre: </label>
        <input pInputText id="name" class="flex-auto" [(ngModel)]="name" autocomplete="off" />
    </div>
    <div class="flex items-center gap-4 mb-4">
        <label for="price" class="font-semibold w-24">Precio:</label>
        <input pInputText id="price" class="flex-auto" [(ngModel)]="price" autocomplete="off" />
    </div>
    <div class="flex items-center gap-4 mb-4">
        <label for="stock" class="font-semibold w-24">Stock:</label>
        <input pInputText id="stock" class="flex-auto" [(ngModel)]="stock" autocomplete="off" />
    </div>
    
    <div class="flex justify-end gap-2">
        <p-button label="Cancel" severity="secondary" (click)="visibleEditar = false" />
        <p-button label="Aceptar" (click)="editarProducto()" />
    </div>
</p-dialog>



